prompt = "<purpose>\nAdd a new integer phase to the end of the current milestone.\n\nAppends sequential phases, automatically calculating next phase number.\n</purpose>\n\n<process>\n\n## Step 1: Parse Arguments\n\nAll arguments become the description.\n\n```\nERROR: Phase description required\nUsage: /gsd:add-phase <description>\n```\n\n## Step 2: Load Roadmap\n\n```bash\ncat .planning/ROADMAP.md\n```\n\nError if not found.\n\n## Step 3: Find Current Milestone\n\nLocate `## Current Milestone:` heading.\nIdentify all phases in this milestone.\n\n## Step 4: Calculate Next Phase\n\nFind highest integer phase, add 1.\nFormat as two-digit: `printf \"%02d\" $next`\n\n## Step 5: Generate Slug\n\n```bash\nslug=$(echo \"$description\" | tr '[:upper:]' '[:lower:]' | sed 's/[^a-z0-9]/-/g' | sed 's/--*/-/g' | sed 's/^-//;s/-$//')\n```\n\n## Step 6: Create Directory\n\n```bash\nmkdir -p \".planning/phases/${phase_num}-${slug}\"\n```\n\n## Step 7: Update ROADMAP.md\n\nInsert at end of milestone:\n\n```markdown\n### Phase {N}: {Description}\n\n**Goal:** [To be planned]\n**Depends on:** Phase {N-1}\n**Plans:** 0 plans\n```\n\n## Step 8: Update STATE.md\n\nAdd to \"Roadmap Evolution\":\n```\n- Phase {N} added: {description}\n```\n\n## Step 9: Completion\n\n```\nPhase {N} added to current milestone:\n- Directory: .planning/phases/{NN}-{slug}/\n- Status: Not planned yet\n\n---\n\n## ▶ Next Up\n\n/gsd:plan-phase {N}\n\n---\n\n**Also available:**\n- /gsd:add-phase <description> — add another\n```\n\n</process>\n"
