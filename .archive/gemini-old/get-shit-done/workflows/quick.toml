prompt = "<purpose>\nExecute small, ad-hoc tasks with GSD guarantees (atomic commits, STATE.md tracking) while skipping optional agents.\n\nQuick mode is the same system with a shorter path:\n- Spawns gsd-planner (quick mode) + gsd-executor(s)\n- Skips research, plan-checker, verifier\n- Quick tasks live in `.planning/quick/` separate from planned phases\n- Updates STATE.md \"Quick Tasks Completed\" table\n</purpose>\n\n<process>\n\n## Step 0: Resolve Model Profile\n\n@./.gemini/get-shit-done/references/model-profile-resolution.md\n\nResolve models for:\n- `gsd-planner`\n- `gsd-executor`\n\n## Step 1: Pre-flight Validation\n\n```bash\nif [ ! -f .planning/ROADMAP.md ]; then\n  echo \"Quick mode requires an active project with ROADMAP.md.\"\n  echo \"Run /gsd:new-project first.\"\n  exit 1\nfi\n```\n\n## Step 2: Get Task Description\n\n```\nAskUserQuestion(\n  header: \"Quick Task\",\n  question: \"What do you want to do?\"\n)\n```\n\nStore as `$DESCRIPTION`.\n\nGenerate slug:\n```bash\nslug=$(echo \"$DESCRIPTION\" | tr '[:upper:]' '[:lower:]' | sed 's/[^a-z0-9]/-/g' | sed 's/--*/-/g' | sed 's/^-//;s/-$//' | cut -c1-40)\n```\n\n## Step 3: Calculate Next Number\n\n```bash\nmkdir -p .planning/quick\nlast=$(ls -1d .planning/quick/[0-9][0-9][0-9]-* 2>/dev/null | sort -r | head -1 | xargs -I{} basename {} | grep -oE '^[0-9]+')\nif [ -z \"$last\" ]; then\n  next_num=\"001\"\nelse\n  next_num=$(printf \"%03d\" $((10#$last + 1)))\nfi\n```\n\n## Step 4: Create Directory\n\n```bash\nQUICK_DIR=\".planning/quick/${next_num}-${slug}\"\nmkdir -p \"$QUICK_DIR\"\n```\n\nReport: `Creating quick task ${next_num}: ${DESCRIPTION}`\n\n## Step 5: Spawn Planner\n\n```\nTask(\n  prompt=\"<planning_context>\n**Mode:** quick\n**Directory:** ${QUICK_DIR}\n**Description:** ${DESCRIPTION}\n\n**Project State:** @.planning/STATE.md\n</planning_context>\n\n<constraints>\n- Create a SINGLE plan with 1-3 focused tasks\n- Quick tasks are atomic and self-contained\n- Target ~30% context usage\n</constraints>\n\n<output>\nWrite plan to: ${QUICK_DIR}/${next_num}-PLAN.md\nReturn: ## PLANNING COMPLETE\n</output>\",\n  subagent_type=\"gsd-planner\",\n  model=\"{planner_model}\"\n)\n```\n\nVerify plan exists.\n\n## Step 6: Spawn Executor\n\n```\nTask(\n  prompt=\"Execute quick task ${next_num}.\n\nPlan: @${QUICK_DIR}/${next_num}-PLAN.md\nProject state: @.planning/STATE.md\n\n<constraints>\n- Execute all tasks in the plan\n- Commit each task atomically\n- Create summary at: ${QUICK_DIR}/${next_num}-SUMMARY.md\n- Do NOT update ROADMAP.md\n</constraints>\",\n  subagent_type=\"gsd-executor\",\n  model=\"{executor_model}\"\n)\n```\n\nVerify summary exists.\n\n## Step 7: Update STATE.md\n\n**Check for \"Quick Tasks Completed\" section:**\n\nIf missing, insert after `### Blockers/Concerns`:\n\n```markdown\n### Quick Tasks Completed\n\n| # | Description | Date | Commit | Directory |\n|---|-------------|------|--------|-----------|\n```\n\n**Append row:**\n```markdown\n| ${next_num} | ${DESCRIPTION} | $(date +%Y-%m-%d) | ${commit_hash} | [${next_num}-${slug}](./quick/${next_num}-${slug}/) |\n```\n\n**Update \"Last activity\" line.**\n\n## Step 8: Final Commit\n\n@./.gemini/get-shit-done/references/git-planning-commit.md\n\n```bash\ngit add ${QUICK_DIR}/${next_num}-PLAN.md\ngit add ${QUICK_DIR}/${next_num}-SUMMARY.md\ngit add .planning/STATE.md\ngit commit -m \"docs(quick-${next_num}): ${DESCRIPTION}\"\n```\n\nDisplay completion:\n```\nGSD â–º QUICK TASK COMPLETE\n\nQuick Task ${next_num}: ${DESCRIPTION}\nSummary: ${QUICK_DIR}/${next_num}-SUMMARY.md\nCommit: ${commit_hash}\n\nReady for next: /gsd:quick\n```\n\n</process>\n"
