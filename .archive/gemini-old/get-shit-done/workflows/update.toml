prompt = "<purpose>\nCheck for GSD updates, install if available, display changelog.\n\nProvides better update experience than raw `npx get-shit-done-cc`.\n</purpose>\n\n<process>\n\n## Step 1: Get Installed Version\n\n```bash\n# Check local install first\nif [ -f ./.claude/get-shit-done/VERSION ]; then\n  INSTALL_TYPE=\"local\"\n  VERSION_FILE=\"./.claude/get-shit-done/VERSION\"\n  INSTALL_FLAG=\"--local\"\nelif [ -f ./.gemini/get-shit-done/VERSION ]; then\n  INSTALL_TYPE=\"global\"\n  VERSION_FILE=\"$HOME/.claude/get-shit-done/VERSION\"\n  INSTALL_FLAG=\"--global\"\nelse\n  INSTALL_TYPE=\"unknown\"\n  INSTALL_FLAG=\"--global\"\nfi\n\n[ -n \"$VERSION_FILE\" ] && cat \"$VERSION_FILE\"\n```\n\nIf VERSION missing: Treat as 0.0.0, proceed to install.\n\n## Step 2: Check Latest Version\n\n```bash\nnpm view get-shit-done-cc version 2>/dev/null\n```\n\nIf npm fails: Show offline message, stop.\n\n## Step 3: Compare Versions\n\nIf installed == latest: \"Already on latest version.\" Stop.\nIf installed > latest: \"Ahead of release (dev version?).\" Stop.\n\n## Step 4: Show Changes and Confirm\n\nFetch changelog, extract entries between versions.\n\n```\n## GSD Update Available\n\n**Installed:** 1.5.10\n**Latest:** 1.5.15\n\n### What's New\n────────────────────────────────────────────\n\n[changelog entries]\n\n────────────────────────────────────────────\n\n⚠️ Clean install warning:\n- ./.gemini/commands/gsd/ wiped and replaced\n- ./.gemini/get-shit-done/ wiped and replaced\n- Custom files outside these preserved\n```\n\nAsk: \"Proceed with update?\" (Yes / No)\n\n## Step 5: Run Update\n\n```bash\nnpx get-shit-done-cc $INSTALL_FLAG\nrm -f ./.gemini/cache/gsd-update-check.json\n```\n\n## Step 6: Display Result\n\n```\n╔═══════════════════════════════════════════════════════════╗\n║  GSD Updated: v1.5.10 → v1.5.15                           ║\n╚═══════════════════════════════════════════════════════════╝\n\n⚠️ Restart Claude Code to pick up new commands.\n```\n\n</process>\n"
