prompt = "# Git Planning Commit\n\nCheck whether to commit planning artifacts, then commit if enabled.\n\n## Check Configuration\n\n```bash\n# Check config.json first\nCOMMIT_PLANNING_DOCS=$(cat .planning/config.json 2>/dev/null | grep -o '\"commit_docs\"[[:space:]]*:[[:space:]]*[^,}]*' | grep -o 'true\\|false' || echo \"true\")\n\n# Auto-detect gitignored (overrides config)\ngit check-ignore -q .planning 2>/dev/null && COMMIT_PLANNING_DOCS=false\n```\n\nDefault: `true` if not set or config missing.\n\n## Conditional Commit\n\nOnly run git operations if `COMMIT_PLANNING_DOCS=true`:\n\n```bash\nif [ \"$COMMIT_PLANNING_DOCS\" = \"true\" ]; then\n  git add .planning/STATE.md .planning/ROADMAP.md\n  git commit -m \"$(cat <<'EOF'\ndocs({scope}): {description}\n\n{optional body}\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\"\nfi\n```\n\n## Commit Message Patterns\n\n| Command | Scope | Example |\n|---------|-------|---------|\n| plan-phase | phase | `docs(phase-03): create authentication plans` |\n| execute-phase | phase | `docs(phase-03): complete authentication phase` |\n| new-milestone | milestone | `docs: start milestone v1.1` |\n| remove-phase | chore | `chore: remove phase 17 (dashboard)` |\n| insert-phase | phase | `docs: insert phase 16.1 (critical fix)` |\n| add-phase | phase | `docs: add phase 07 (settings page)` |\n\n## When to Skip\n\n- `commit_docs: false` in config\n- `.planning/` is gitignored\n- No changes to commit (check with `git status --porcelain .planning/`)\n"
