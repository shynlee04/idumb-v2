description = "Switch model profile for GSD agents (quality/balanced/budget)"
prompt = "<objective>\nSwitch the model profile used by GSD agents. This controls which Claude model each agent uses, balancing quality vs token spend.\n</objective>\n\n<profiles>\n| Profile | Description |\n|---------|-------------|\n| **quality** | Opus everywhere except read-only verification |\n| **balanced** | Opus for planning, Sonnet for execution/verification (default) |\n| **budget** | Sonnet for writing, Haiku for research/verification |\n</profiles>\n\n<process>\n\n## 1. Validate argument\n\n```\nif $ARGUMENTS.profile not in [\"quality\", \"balanced\", \"budget\"]:\n  Error: Invalid profile \"$ARGUMENTS.profile\"\n  Valid profiles: quality, balanced, budget\n  STOP\n```\n\n## 2. Ensure config exists\n\n```bash\nls .planning/config.json 2>/dev/null\n```\n\nIf `.planning/config.json` missing, create it with defaults:\n```bash\nmkdir -p .planning\n```\n```json\n{\n  \"model_profile\": \"balanced\",\n  \"workflow\": {\n    \"research\": true,\n    \"plan_check\": true,\n    \"verifier\": true\n  }\n}\n```\nWrite this to `.planning/config.json`, then continue.\n\n## 3. Update config.json\n\nRead current config:\n```bash\ncat .planning/config.json\n```\n\nUpdate `model_profile` field:\n```json\n{\n  \"model_profile\": \"$ARGUMENTS.profile\"\n}\n```\n\nWrite updated config back to `.planning/config.json`.\n\n## 4. Confirm\n\n```\n✓ Model profile set to: $ARGUMENTS.profile\n\nAgents will now use:\n[Show table from model-profiles.md for selected profile]\n\nNext spawned agents will use the new profile.\n```\n\n</process>\n\n<examples>\n\n**Switch to budget mode:**\n```\n/gsd:set-profile budget\n\n✓ Model profile set to: budget\n\nAgents will now use:\n| Agent | Model |\n|-------|-------|\n| gsd-planner | sonnet |\n| gsd-executor | sonnet |\n| gsd-verifier | haiku |\n| ... | ... |\n```\n\n**Switch to quality mode:**\n```\n/gsd:set-profile quality\n\n✓ Model profile set to: quality\n\nAgents will now use:\n| Agent | Model |\n|-------|-------|\n| gsd-planner | opus |\n| gsd-executor | opus |\n| gsd-verifier | sonnet |\n| ... | ... |\n```\n\n</examples>"
